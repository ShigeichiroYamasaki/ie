# インターネット工学演習 03
## インターネットの原理

## レポートURL

[https://forms.gle/VcvxQuRvGB65wtgC8](https://forms.gle/VcvxQuRvGB65wtgC8)


## IPアドレス関係情報の確認

```
$ ip addr

$ ifconfig
```

まわりの人のIPアドレス関係情報の確認する

* ipアドレス
* サブネットマスク
* ブロードキャストアドレス
* MACアドレス (ether)

## ルーティングテーブルの確認

```
$ netstat -r

カーネルIP経路テーブル
受信先サイト    ゲートウェイ    ネットマスク   フラグ Metric Ref 使用数 インタフェース
default         _gateway        0.0.0.0         UG    100    0        0 enp3s0
link-local      0.0.0.0         255.255.0.0     U     1000   0        0 enp3s0
192.168.0.0     0.0.0.0         255.255.255.0   U     100    0        0 enp3s0

```

* デフォルトゲートウェイの確認
* 

## ARPテーブルの確認

```
$ arp
```

* MACアドレスとIPアドレスの対応

## ping による導通確認

確認したい相手のIPアドレスを知る

```
$ ping 192.168.1.X

PING 192.168.0.18 (192.168.0.18): 56 data bytes
64 bytes from 192.168.0.18: icmp_seq=0 ttl=64 time=7.093 ms
64 bytes from 192.168.0.18: icmp_seq=1 ttl=64 time=7.443 ms
64 bytes from 192.168.0.18: icmp_seq=2 ttl=64 time=6.654 ms
64 bytes from 192.168.0.18: icmp_seq=3 ttl=64 time=6.111 ms

(コントロール ｃ) で終了する
```

* そのマシンまでの往復時間を確認する

### 様々なサイトにping してみる

* GOOGLEのDNSサーバ  8.8.8.8
* yahoo のサーバ www.yahoo.co.jp
* 近畿大学産業理工学部のDNSサーバ １５７．１３．1.1

### ping した後にARPテーブルを再確認する

```
$ arp
```

## traceroute で経路を確認する

```
$ traceroute 8.8.8.8

traceroute to 8.8.8.8 (8.8.8.8), 64 hops max, 52 byte packets
 1  ia201wl4 (192.168.0.1)  7.978 ms  5.241 ms  5.784 ms
 2  oha-mx480-bbbas05.qtnet.ad.jp (218.40.227.156)  10.688 ms  10.055 ms  9.346 ms
 3  211.132.104.33 (211.132.104.33)  9.649 ms
    211.132.104.37 (211.132.104.37)  11.368 ms
    211.132.104.33 (211.132.104.33)  9.512 ms
 4  61.203.192.241 (61.203.192.241)  11.010 ms
    61.203.192.237 (61.203.192.237)  11.930 ms
    61.203.192.249 (61.203.192.249)  10.036 ms
 5  61.203.193.126 (61.203.193.126)  25.828 ms
    61.203.193.122 (61.203.193.122)  24.705 ms  25.398 ms
 6  61.203.192.177 (61.203.192.177)  23.924 ms  27.273 ms  24.774 ms
 7  108.170.242.129 (108.170.242.129)  26.158 ms  26.731 ms
    108.170.242.161 (108.170.242.161)  24.342 ms
 8  64.233.174.187 (64.233.174.187)  26.882 ms
    72.14.236.107 (72.14.236.107)  23.827 ms
    209.85.250.45 (209.85.250.45)  23.553 ms
 9  google-public-dns-a.google.com (8.8.8.8)  26.772 ms  24.187 ms  24.120 ms

```

いろいろなサイトまでの経路を確認する

* yahoo のサーバ www.yahoo.co.jp
* 近畿大学産業理工学部のDNSサーバ 157.13.61.1
* 九工大のwebサーバ  www.kyutech.ac.jp

## whois データベースの確認

### 近畿大学産業理工学部のIPアドレスのwhoisデータベース情報の確認

```
$ whois 157.13.1.1
```

いろいろなIPアドレスの whois データベースの情報を確認する

* 8.8.8.8
* 1.1.1.1
* traceroute の途中経路のIPアドレスの情報を確認する

## DNS関連情報

```
$ dig
```

### host コマンドでIPアドレスを確認する

```
$ host www.kindai.ac.jp
```
### host コマンドでnsレコードを確認する

```
$ host -t ns kindai.ac.jp
```

## IPアドレスを手動設定する

* IPアドレスとサブネットマスクの確認
* DNSサーバのIPアドレスの確認
* デフォルトゲートウェーの確認

## レポートURL

[https://forms.gle/VcvxQuRvGB65wtgC8](https://forms.gle/VcvxQuRvGB65wtgC8)
