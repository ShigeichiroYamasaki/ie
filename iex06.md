

#  インターネット工学演習 06

## 静的ルーティング

# 紙とペンを用意しましょう


### ping とtraceroute による接続状態の確認

現在のルーティングテーブルの状態（３つのネットワークが接続される前の状態）でどこまで到達可能か調べる

```bash
ping ipアドレス

traceroute ipアドレス
```

## ネットワーク構成

```
                                     Internet
                                 <106.157.214.199>
                                     [ルータ]
                                         |
      26                 27              1           (192.168.0.X)
    ---+------------------+--------------+----------- 192.168.0.0/27
     [ T ](SSH)         [ R ]
                          |
  33      34      35      36                         (192.168.0.X)
--+-------+-------+-------+-------------------------- 192.168.0.32/27
[ C0]   [ B0]   [ A0] 
  |       |       |
  |       |      65     66                            (192.168.0.X)
  |       |      -+------+---------------------------- 192.168.0.64/27
  |       |            [ A1]  
  |       |              |               
  |       |             97      98                    (192.168.0.X)
  |       |             -+-------+-------------------- 192.168.0.96/28
  |       |                    [ A2] 
  |       |                      |
  |       |                    113     114            (192.168.0.X)
  |       |               -------+-------+------------ 192.168.0.112/28
  |       |                            [ A3] 
  |       |                     
  |     129    130                                    (192.168.0.X)
  |      -+------+------------------------------------ 192.168.0.128/27
  |            [ B1]  
  |              |
  |            161     162                            (192.168.0.X)
  |             -+-------+---------------------------- 192.168.0.160/28
  |                    [ B2]
  |                      |
  |                    177     178                    (192.168.0.X)
  |               -------+-------+-------------------- 192.168.0.176/28
  |                            [ B3]
  |                    
193    194                                            (192.168.0.X)
 -+------+-------------------------------------------- 192.168.0.192/27
       [ C1] 
         |
       225     226                                    (192.168.0.X)
        -+-------+------------------------------------ 192.168.0.224/28
               [ C2]
                 |
               241      242                           (192.168.0.X)
           -------+-------+--------------------------- 192.168.0.240/28
                        [ C3]

```

## ip route コマンドによるルーティングテーブルの確認

```
ip r
```

## ip route コマンドによるルーティングテーブルの追加

```
ip r add 宛先ネットワーク/サブネット via ゲートウェー dev インターフェース名
```

例

```
ip r add 192.168.0.240/28 via 192.168.226 dev enx8857ee65561c
```
