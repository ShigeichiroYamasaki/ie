# インターネット工学演習 05

### 山崎のssh サーバにssh ログインしてください

## sudo コマンドの注意

* sudo コマンドは、特権ユーザのものです。
* システムを破壊したり、ユーザのメールの内容などのプライバシを覗いたりすることができます
* sudo コマンドを安易に利用してはいけません。
* 万一コマンドにミスがあった場合、最悪の場合、OSの再インストールなどの作業が必要になります。
* 「脅しとしてですが」安易なsudoコマンドの濫用があったばあい、減点対象とします。

### 注意の注意

この授業では、ミスや失敗は許されます。

## 担当ルータに ssh ログイン

## ネットワーク構成図

★　自分の班のルータを丸で囲ってください。

### 2セグメントの例（第１段階）

★サブネットマスクが25ビットになっていることに注意！

```
                          Internet
                              |
              253             1         
    -----------+--------------+---------------------------------- 192.168.0.0/24
        [ router1 ](SSH)           
               |                   
               |
  2    3   4   1  18  19  34  35  50  66  67  82  83  98  99 114 
--+----+---+---+---+---+---+---+---+---+---+---+---+---+---+---+-- 192.168.1.0/25
 G8R  G4R G1R     G2R G1  G3R G2  G3  G5R G4  G6R G5  G7R G6  G7 
  |
  |
 129  130  131  146  147  162
--+----+----+----+----+----+-------------------------------------- 192.168.1.128/25
      G9R  G8   G10R G9  G10
 
```

## 各班担当のルータとホストのIPアドレスを修正する

例　1班は，G1,　G1R　を担当
　　２班は，G2,　G2R　を担当
　　...
　　10班は，G10，　G10R　を担当


### netplan の設定ファイルを修正

24ビットマスクを25ビットマスクに修正する

```
sudo nano /etc/netplan/99_config.yaml
```

例

```
network:
  version: 2
  renderer: networkd
  ethernets:
    eth0:
      dhcp4: false
      dhcp6: false
      addresses: [192.168.1.4/25]
      gateway4: 192.168.1.1
      nameservers:
        addresses: [8.8.8.8, 8.8.4.4]
    eth1:
      dhcp4: false
      dhcp6: false
      addresses: [192.168.1.17/25]
      nameservers:
        addresses: [8.8.8.8, 8.8.4.4]
```

### netplan 実行

```
sudo netplan apply
```




## ルーティングテーブルの確認

```
ip route
```

# G8R のルーティングテーブル

全員，紙に書いてみましょう

# 全員 G8R にssh ログイン


## ルーティングテーブルの確認

```
ip route
```



